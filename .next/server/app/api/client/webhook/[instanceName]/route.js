(()=>{var e={};e.id=504,e.ids=[504],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4882:(e,t,r)=>{"use strict";r.d(t,{xK:()=>s});let s={evolutionBaseUrl:process.env.EVOLUTION_BASE_URL,evolutionApiKey:process.env.EVOLUTION_API_KEY,mongoUrl:process.env.MONGO_URL,webhookSendMessageUrl:process.env.WEBHOOK_SEND_MESSAGE_URL,openAiBaseUrl:process.env.OPEN_AI_BASE_URL,openAiApiKey:process.env.OPEN_AI_API_KEY,stripeCallbackUrl:process.env.STRIPE_CALLBACK_URL,stripeApiCompleteKey:process.env.STRIPE_API_COMPLETE_KEY,stripePriceKey:process.env.STRIPE_PRICE_KEY}},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{"use strict";e.exports=require("assert")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},32719:(e,t,r)=>{"use strict";r.d(t,{x:()=>o});var s=r(94612),a=r(82410),n=r(4882);class o{static{this.httpClient=s.A.create({baseURL:n.xK.evolutionBaseUrl,headers:{apiKey:n.xK.evolutionApiKey}})}static async getState(e){let t=`instance/connectionState/${e}`;try{return(await this.httpClient.get(t)).data}catch{return{instance:{instanceName:e,state:a.d.NOT_FOUND}}}}static async newInstance(e){let t="instance/create";try{await this.httpClient.post(t,e)}catch{throw Error(t)}}static async instanceConnect(e){let t=`instance/connect/${e}`;try{let r=(await this.httpClient.get(t,{params:{number:e}})).data;if(!r.code||!r.base64||!r.pairingCode)throw Error(`${t}: Evolution codes not generated!`);return r}catch{throw Error(t)}}static async sendMessage(e,t){let r=`message/sendText/${e}`;try{await this.httpClient.post(r,t)}catch{throw Error(r)}}static async deleteInstance(e){let t=`instance/delete/${e}`;try{await this.httpClient.delete(t)}catch{throw Error(t)}}static async logoutInstance(e){let t=`instance/logout/${e}`;try{await this.httpClient.delete(t)}catch{throw Error(t)}}static async fetchInstance(e){let t="instance/fetchInstances";try{return(await this.httpClient.get(t,{params:{instanceName:e}})).data}catch{throw Error(t)}}static async changeWebhookStatus(e,t){let r=`webhook/set/${e}`,s={webhook:{enabled:t,events:["MESSAGES_UPSERT","CONNECTION_UPDATE"],url:n.xK.webhookSendMessageUrl||""}};try{await this.httpClient.post(r,s)}catch{throw Error(r)}}static async webhookStatus(e){let t=`webhook/find/${e}`;try{return{enabled:(await this.httpClient.get(t)).data.enabled}}catch{throw Error(t)}}}},33873:e=>{"use strict";e.exports=require("path")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},82410:(e,t,r)=>{"use strict";r.d(t,{d:()=>s});var s=function(e){return e.OPEN="open",e.CLOSE="close",e.NOT_FOUND="not_found",e}({})},83997:e=>{"use strict";e.exports=require("tty")},84996:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>x,routeModule:()=>u,serverHooks:()=>d,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>h});var s={};r.r(s),r.d(s,{GET:()=>p});var a=r(96559),n=r(48088),o=r(37719),i=r(32719),c=r(32190);async function p(e){let{searchParams:t}=new URL(e.url),r=t.get("instanceName");if(!r)return c.NextResponse.json({message:"O nome da inst\xe2ncia \xe9 obrigat\xf3rio!"},{status:400});try{let e=await i.x.webhookStatus(r);return c.NextResponse.json({data:e},{status:200})}catch{return c.NextResponse.json({message:"N\xe3o foi poss\xedvel obter informa\xe7\xf5es sobre o status do chatBot!"},{status:404})}}let u=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/client/webhook/[instanceName]/route",pathname:"/api/client/webhook/[instanceName]",filename:"route",bundlePath:"app/api/client/webhook/[instanceName]/route"},resolvedPagePath:"/home/fr/atendente-bot/src/app/api/client/webhook/[instanceName]/route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:l,workUnitAsyncStorage:h,serverHooks:d}=u;function x(){return(0,o.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:h})}},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,580,612],()=>r(84996));module.exports=s})();